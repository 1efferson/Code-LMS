{% extends "base.html" %}
{% block content %}

<!-- Sticky Header -->
<header class="sticky top-0 z-50 bg-white dark:bg-gray-950 border-b border-gray-200 dark:border-gray-800">
  <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
    <h1 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
      Instructor Panel
    </h1>

    <nav class="flex items-center gap-3">
      <button
        class="px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 rounded-md
               hover:bg-gray-100 dark:hover:bg-gray-900
               focus:outline-none focus:ring-2 focus:ring-emerald-600
               focus:ring-offset-2 dark:focus:ring-offset-gray-950 transition">
        Dashboard
      </button>

      <button
        class="px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 rounded-md
               hover:bg-gray-100 dark:hover:bg-gray-900
               focus:outline-none focus:ring-2 focus:ring-emerald-600
               focus:ring-offset-2 dark:focus:ring-offset-gray-950 transition">
        Logout
      </button>
    </nav>
  </div>
</header>

<!-- Page Content -->
<main class="min-h-screen bg-gray-100 dark:bg-gray-950">
  <div class="max-w-6xl mx-auto px-4 py-10">

    <!-- Page Header -->
    <section class="mb-8">
      <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100">
        Your Courses
      </h2>
      <p class="mt-1 text-gray-600 dark:text-gray-400 text-sm sm:text-base">
        Courses currently assigned to you
      </p>
    </section>

    {% if courses %}

    <!-- Desktop Table -->
    <section
      class="hidden md:block bg-white dark:bg-gray-900 border border-gray-200
             dark:border-gray-800 rounded-xl shadow-sm overflow-hidden">

      <table class="w-full text-left">
        <thead
          class="bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700">
          <tr>
            <th class="px-6 py-4 text-sm font-semibold text-gray-700 dark:text-gray-300">
              Course Title
            </th>
            <th class="px-6 py-4 text-sm font-semibold text-gray-700 dark:text-gray-300">
              Students
            </th>
            <th class="px-6 py-4 text-sm font-semibold text-gray-700 dark:text-gray-300">
              Action
            </th>
          </tr>
        </thead>

        <tbody class="divide-y divide-gray-200 dark:divide-gray-800">
          {% for course in courses %}
          <tr class="hover:bg-gray-50 dark:hover:bg-gray-800 transition">
            <td class="px-6 py-4 font-medium text-gray-900 dark:text-gray-100">
              {{ course.title }}
            </td>

            <td class="px-6 py-4">
              <span
                class="inline-flex items-center px-3 py-1 rounded-full text-sm
                       bg-emerald-100 text-emerald-700
                       dark:bg-emerald-900/30 dark:text-emerald-300 font-semibold">
                {{ course.enrollments.count() }}
              </span>
            </td>

            <td class="px-6 py-4">
              <a href="{{ url_for('instructor.course_students', course_id=course.id) }}">
                <button
                  class="px-4 py-2 text-sm font-semibold text-white bg-emerald-600 rounded-md
                         hover:bg-emerald-700 focus:outline-none focus:ring-2
                         focus:ring-emerald-600 focus:ring-offset-2
                         dark:focus:ring-offset-gray-900 transition">
                  View Students
                </button>
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </section>

    <!-- Mobile Cards -->
    <section class="md:hidden space-y-4">
      {% for course in courses %}
      <article
        class="bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800
               rounded-xl p-5 shadow-sm">

        <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
          {{ course.title }}
        </h3>

        <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">
          Students enrolled
        </p>

        <div class="mt-1 mb-4">
          <span
            class="inline-flex items-center px-3 py-1 rounded-full text-sm
                   bg-emerald-100 text-emerald-700
                   dark:bg-emerald-900/30 dark:text-emerald-300 font-semibold">
            {{ course.enrollments.count() }}
          </span>
        </div>

        <a href="{{ url_for('instructor.course_students', course_id=course.id) }}">
          <button
            class="w-full px-4 py-2 text-sm font-semibold text-white bg-emerald-600 rounded-md
                   hover:bg-emerald-700 focus:outline-none focus:ring-2
                   focus:ring-emerald-600 focus:ring-offset-2
                   dark:focus:ring-offset-gray-900 transition">
            View Students
          </button>
        </a>
      </article>
      {% endfor %}
    </section>

    {% else %}

    <!-- Empty State -->
    <section
      class="bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800
             rounded-xl p-8 text-center shadow-sm">

      <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2">
        No Courses Assigned
      </h3>

      <p class="text-gray-600 dark:text-gray-400 text-sm">
        You are not assigned to any courses yet. Please contact an administrator.
      </p>
    </section>

    {% endif %}
  </div>
</main>

{% endblock %}
